<html>
<head>
<title>Trabalho Final de HUM-01</title>
<link rel="stylesheet" href="formatacao.css">
<link rel="icon" href="icone.png">
</head>
<body>
<script>
var fase = 0;
var liberaTeste = 0;
const seqIni = [
	[2,4,8],
	[1,3,6],
	[1,3,5],
	[4,8,24],
	[1,1,2],
];

const checkSeq = [
	function(val1,val2,val3) {return val1 < val2 && val2 < val3;},
	function(val1,val2,val3) {return val1 < val2+2 && val2 < val3+3;},
	function(val1,val2,val3) {return val1 + 2 <= val2 && val2 + 2 <= val3;},
	function(val1,val2,val3) {return val1*2 == val2 && val2*3 == val3;},
	function(val1,val2,val3) {return val1 == val2;},
];

const checkReg = [
	function() {return prop.value == "1" && desigualdade.value == ">" && cons.value == "0" && adhoc.value == "5";},
	function() {return prop.value == "1" && desigualdade.value == "=" && cons.value == "n" && adhoc.value == "5";},
	function() {return prop.value == "1" && desigualdade.value == ">="&& cons.value == "2" && adhoc.value == "5";},
	function() {return prop.value == "n" && desigualdade.value == "=" && cons.value == "0" && adhoc.value == "5";},
	function() {return prop.value == "1" && desigualdade.value == "=" && cons.value == "0" && adhoc.value == "2";},
];

function test(val1,val2,val3) {
	if (checkSeq[fase](val1,val2,val3)) {alert("Sequência válida.");}
	else {alert("Sequência inválida.");}
	window.liberaTeste = 1;
}

function submit() {
	if (!prop.value) {prop.value = "1";}
	if (!cons.value) {cons.value = "0";}
	if (window.liberaTeste) {
		if (checkReg[fase]()) {
			if (fase==0) {explicacao.className='visivel';next.hidden = false;}
			else {alert("Resposta correta!");}
		}
		else {alert("Resposta incorreta.");}
		window.liberaTeste = 0;
	} else {alert("Teste algumas sequências antes de tentar adivinhar a regra.");}
}

function newGame() {
	window.fase = 1 + Math.floor(Math.random()*(checkSeq.length - 1));
	seq.textContent = seqIni[fase][0]+', '+seqIni[fase][1]+', '+seqIni[fase][2];
}

function help() {
	if (fase < 4) {alert('Se você está com dificuldade de encontrar a regra você provavelmente está testando sequências que obedecem a regra que você hipotetizou, tente algumas sequências que contradizem sua hipótese.');}
	else { //adhoc
		absoluto.hidden = true;
		adhoc.hidden = false;
	}
}
</script>
<!--Cabeçalho-->
<div class="cExt" style="height:140px;background-image:url(bg.png);">
	<div class="cInt" style="background-image: url(logomarca.png);background-repeat: no-repeat;background-position: center;background-size:400px;">
		<div class="titl header">Experimentos de Filosofia da Ciência</div>
		<div class="header">Amita (T-3), Arroz (T-4) e Confetti (T-4)</div>
	</div>
</div>
<div class="cExt" style="height:21px;margin-bottom:1em;">
	<div class="cInt" style="color:#fff;margin: auto">
		<a class="changePage" href="#">Falsificacionismo</a>
		<a class="changePage" href="#">Crédito</a>
	</div>
</div>
<!--/Cabeçalho-->
A seguinte sequência obedece a regra:
<h1 id="seq">2, 4, 8</h1>
Você pode testar se diferentes sequências obedecem à regra:<br/>

<input id="seq1" style="width:2em;font-size:1.0em;text-align:right" type="text"/>,
<input id="seq2" style="width:2em;font-size:1.0em;text-align:right" type="text"/>,
<input id="seq3" style="width:2em;font-size:1.0em;text-align:right" type="text"/><br/>
<button class="bttn" onclick="test(seq1.value,seq2.value,seq3.value)">Testar</button>
<button class="bttn" onclick="help();">Dica</button><br/>
Quando você achar que souber, insira a regra aqui:
<h1 style="margin-bottom:0;"> 
	a<sub>n</sub>
	<select id="desigualdade" style="font-size:1.0em">
		<option value="=">=</option>
		<option value="!=">&ne;</option>
		<option value=">">&gt;</option>
		<option value=">=">&ge;</option>
		<option value="<">&lt;</option>
		<option value="<=">&le;</option>
	</select>
	<input style="width:2em;font-size:1.0em;text-align:right" type="text" id='prop' value="1"/>
	*a<sub>n-1</sub>
	+ 
	<input style="width:2em;font-size:1.0em;text-align:right" type="text" id='cons' value="0"/>
</h1>
<p style="margin-top:0;">
	<span id="absoluto">Para n = 3 ou 2</span>
	<select hidden id="adhoc">
		<option value="5">Para n = 3 ou 2</option>
		<option value="3">Para n = 3</option>
		<option value="2">Para n = 2</option>
	</select>
</p>
<button class="bttn" onclick="submit()">Enviar</button>
<button class="bttn" onclick="newGame()" hidden id="next">Novo jogo</button>

<div id='explicacao' class="oculto">
	<h2>Resposta correta!</h2>
	<p>Aí aqui a gente coloca uma explicação de pq o falsificacionismo funciona.</p>
</div>

</body>
</html>