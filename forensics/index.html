<html>
	<head>
		<title>Desafios de Forênsica</title>
		<link href="style.css" rel="stylesheet">
		<script>
			flags = {
				Acrop:"flag{h3r3's_j0hnny}",
				BMP:"flag{aprecie_a_simplicidade_do_BMP}",
				Twins:"flag{celso_portiolli_e_inocente}",
				Macaco:"flag{0lh4_0_m4c444444c0}",
			}
			function check(desafio) {
				inp = document.getElementById("flag"+desafio);
				if (inp.value == flags[desafio]) {
					alert("Resposta certa");
					inp.classList.add("resolvido");
					document.getElementById("btn"+desafio).classList.add("resolvido");
				} else {
					alert("Resposta incorreta");
				}
			}
			function toggle(desafio){
				lvl = document.getElementById("diff"+desafio);
				title = document.getElementById("title"+desafio);
				content = document.getElementById("cont"+desafio);
				isVisible = false;
				lvl.classList.forEach(x => {isVisible = isVisible || x == 'show'});
				if (isVisible) {
					lvl.classList.remove("show");
					//title.classList.remove("show");
					content.classList.remove("show");
					lvl.classList.add("hide");
					//title.classList.add("hide");
					content.classList.add("hide");
				} else {
					lvl.classList.add("show");
					//title.classList.add("show");
					content.classList.add("show");
					lvl.classList.remove("hide");
					//title.classList.remove("hide");
					content.classList.remove("hide");
				}
			}
		</script>
	</head>
	<body>
		<div id="corpo">
			<div id="header">
				<h1>Forensics</h1>
				<!--div>
					<a href="#">Exemplo</a>
					<a href="#">Exemplo</a>
				</div-->
			</div>
			<div class="cell titulo" id="titleMacaco" onclick="toggle('Macaco')">
				<h3>No rabo do macaco</h3>
				<div class="lvl facil" id="diffMacaco">Fácil</div>
			</div>
			<div class="cell conteudo" id="contMacaco">
				<p>A flag tá aí</p>
				<img src="./mandrill.png"/><br/>
				<h6>Dicas:</h6>
				<div class="dicas">
					<div onclick="alert('A flag tem 25 caracteres.');">1</div>
				</div>
				<div>
					<input type="text" id="flagMacaco" placeholder="Insira a flag do formato flag{...} aqui" style="width:20em"/>
					<input type="submit" id="btnMacaco" class="btn" value="Enviar" onclick="check('Macaco');"/>
				</div>
			</div>

			<div class="cell titulo" id="titleTwins" onclick="toggle('Twins')">
				<h3>Gemeos Famosos</h3>
				<div class="lvl facil" id="diffTwins">Fácil</div>
			</div>
			<div class="cell conteudo" id="contTwins">
				<p>Opa foi mal eu sem querer coloquei essa imagem duas vezes</p>
				<img src="./torre1.png"/> <img src="./torre2.png"/><br/>
				<h6>Dicas:</h6>
				<div class="dicas">
					<div onclick="alert('Você precisa das duas imagens pra resolver isso.');">1</div>
				</div>
				<div>
					<input type="text" id="flagTwins" placeholder="Insira a flag do formato flag{...} aqui" style="width:20em"/>
					<input type="submit" id="btnTwins" class="btn" value="Enviar" onclick="check('Twins');"/>
				</div>
			</div>

			<div class="cell titulo" id="titleBMP" onclick="toggle('BMP')">
				<h3>256 pixels quadrados</h3>
				<div class="lvl medio" id="diffBMP">Médio</div>
			</div>
			<div class="cell conteudo" id="contBMP">
				<p>Uma imagem tão pequena pode dizer tantas coisas</p>
				<img src="./imagenzinha.bmp"/><br/>
				<h6>Dicas:</h6>
				<div class="dicas">
					<div onclick="alert('A flag está em português mas o resto do texto não.');">1</div>
				</div>
				<div>
					<input type="text" id="flagBMP" placeholder="Insira a flag do formato flag{...} aqui" style="width:20em"/>
					<input type="submit" id="btnBMP" class="btn" value="Enviar" onclick="check('BMP');"/>
				</div>
			</div>

			<div class="cell titulo" id="titleAcrop" onclick="toggle('Acrop')">
				<h3>Quase um Acropalípse</h3>
				<div class="lvl dificil" id="diffAcrop">Difícil</div>
			</div>
			<div class="cell conteudo" id="contAcrop">
				<p>Uma pessoa acidentalmente tirou print contendo informação sensível, ao notar isso, abriu o editor de screenshot do Windows (que estava desatualizado), cortou fora a informação e salvou por cima. O resultado é a seguinte imagem:</p>
				<img src="./acropalypse.png"/><br/>
				<h6>Dicas:</h6>
				<div class="dicas">
					<div onclick="alert('Estude o formato de imagem png.');">1</div>
					<div onclick="alert('A resolução da imagem original era 439x339.');">2</div>
					<div onclick="alert('Provavelmente o jeito mais fácil de fazer é transformar em uma imagem válida (não corrompida) 439x399.');">3</div>
				</div>
				<input type="text" id="flagAcrop" placeholder="Insira a flag do formato flag{...} aqui" style="width:20em"/>
				<input type="submit" id="btnAcrop"class="btn" value="Enviar" onclick="check('Acrop');"/>
			</div>
		</div>
	</body>
</html>
